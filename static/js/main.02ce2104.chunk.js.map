{"version":3,"sources":["logo.png","Ybot.tsx","utils.tsx","PosenetCam.tsx","index.tsx"],"names":["module","exports","getAngle","p1","p2","c1","c2","m","Math","atan2","normalize","min","max","val","PI","getYRotation","p3","e1","abs","e2","getZRotation","Model","props","kp","group","useRef","_useGLTF","useGLTF","nodes","materials","useFrame","state","delta","getJoints","Alpha_Surface","skeleton","bones","rotation","y","x","z","error","console","log","react_default","a","createElement","react","fallback","Object","assign","ref","dispose","name","scale","position","object","mixamorigHips","geometry","Alpha_Joints","material","Alpha_Joints_MAT","Alpha_Body_MAT","preload","color","lineWidth","toTuple","_ref","drawPoint","ctx","r","beginPath","arc","fillStyle","fill","drawSkeleton","keypoints","minConfidence","arguments","length","undefined","posenet","forEach","_ref2","_ref3","_ref4","slicedToArray","ay","ax","_ref5","by","bx","moveTo","lineTo","strokeStyle","stroke","drawSegment","PosenetCam","tf","webcamRef","canvasRef","runPosenet","asyncToGenerator","_regeneratorRuntime","mark","_callee","net","wrap","_context","prev","next","architecture","outputStride","inputResolution","width","height","multiplier","sent","setInterval","detect","stop","apply","this","_callee2","video","videoWidth","videoHeight","pose","_context2","current","readyState","estimateSinglePose","drawCanvas","_x","canvas","getContext","score","mapJoints","i","keypoint","_keypoint$position","drawKeypoints","className","react_webcam_default","root","ReactDOM","createRoot","document","getElementById","body","classList","add","render","StrictMode","src","logo","alt","href","react_three_fiber_esm","src_PosenetCam"],"mappings":"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","file":"static/js/main.02ce2104.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","/*\nAuto-generated by: https://github.com/pmndrs/gltfjsx\n*/\n\nimport React, { useRef, Suspense } from 'react';\nimport { useGLTF } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\n\nconst CONFIDENCE = 0.3\n\nconst getAngle = (p1: any, p2: any, c1: any, c2: any, m: any) => {\n  if(p1['score'] > CONFIDENCE && p2['score'] > CONFIDENCE){\n    return (Math.atan2(p2['position']['y'] - p1['position']['y'], p2['position']['x'] - p1['position']['x']) + c1) * m;\n  }\n  return c2 * m\n}\n\nconst normalize = (min: any, max: any, val: any) => {\n  return ((val - min) / (max - min))* Math.PI;\n}\n\nconst getYRotation = (p1: any, p2: any, p3: any) => {\n  if(p1['score'] > CONFIDENCE && p2['score'] > CONFIDENCE && p3['score'] > CONFIDENCE){\n    let e1 = Math.abs(p1['position']['x'] - p3['position']['x'])\n    let e2 = Math.abs(p2['position']['x'] - p3['position']['x'])\n    return normalize(-100, 100, e2-e1) - Math.PI/2;\n  }\n  return 0\n}\n\nconst getZRotation = (p1: any, p2: any) => {\n  if(p1['score'] > CONFIDENCE && p2['score'] > CONFIDENCE){\n    let e1 = Math.abs(p1['position']['y'])\n    let e2 = Math.abs(p2['position']['y'] )\n    return normalize(-80, 80, e2-e1) - Math.PI/2;\n  }\n  return 0\n}\n\nexport function Model(props: any) {\n  let kp;\n  const group = useRef();\n  const { nodes, materials }: any = useGLTF('./ybot.glb');\n\n  useFrame((state, delta) => {\n    kp = props.getJoints();\n    try {\n      // Left arm & elbow\n      nodes.Alpha_Surface.skeleton.bones[7].rotation.y = getAngle(kp[5], kp[7], 0, 0, -1)\n      nodes.Alpha_Surface.skeleton.bones[9].rotation.x = getAngle(kp[7], kp[9], 0, 0, 1)\n\n      //Right arm & elbow\n      nodes.Alpha_Surface.skeleton.bones[31].rotation.y = getAngle(kp[8], kp[6], 0, 0, -1)\n      nodes.Alpha_Surface.skeleton.bones[33].rotation.x = getAngle(kp[10], kp[8], 0, 0, -1)\n    \n      // Left leg & knee\n      nodes.Alpha_Surface.skeleton.bones[55].rotation.z =  getAngle(kp[11], kp[13], (Math.PI/2), Math.PI, -1)\n      //nodes.Alpha_Surface.skeleton.bones[56].rotation.z = getAngle(kp[15], kp[13], (Math.PI/2), 0, -1)\n\n      // Right leg & knee\n      nodes.Alpha_Surface.skeleton.bones[60].rotation.z =  getAngle(kp[12], kp[14], (Math.PI/2), Math.PI, -1)\n      //nodes.Alpha_Surface.skeleton.bones[61].rotation.z = getAngle(kp[16], kp[14], (Math.PI/2), 0, -1)\n\n      // Head\n      nodes.Alpha_Surface.skeleton.bones[5].rotation.y = getYRotation(kp[1], kp[2], kp[0])\n      nodes.Alpha_Surface.skeleton.bones[5].rotation.z = getZRotation(kp[1], kp[2])\n    } catch (error) {\n      console.log(error);\n    }\n  });\n\n  return (\n    <Suspense fallback={null}>\n      <group ref={group} {...props} dispose={null}>\n        <group name=\"Scene\">\n          <group name=\"Armature\" rotation={[Math.PI / 2, 0, 0]} scale={[0.1, 0.1, 0.1]} position={[0, -10, -10]}>\n            <primitive object={nodes.mixamorigHips} />\n            <skinnedMesh name=\"Alpha_Joints\" geometry={nodes.Alpha_Joints.geometry} material={materials.Alpha_Joints_MAT} skeleton={nodes.Alpha_Joints.skeleton} />\n            <skinnedMesh name=\"Alpha_Surface\" geometry={nodes.Alpha_Surface.geometry} material={materials.Alpha_Body_MAT} skeleton={nodes.Alpha_Surface.skeleton} />\n          </group>\n        </group>\n      </group>\n    </Suspense>    \n  )\n}\n\nuseGLTF.preload('./ybot.glb');\n","import * as posenet from '@tensorflow-models/posenet';\n\nconst color = 'aqua';\nconst lineWidth = 2;\n\nfunction toTuple({y, x}: any) {\n  return [y, x];\n}\n\nexport function drawPoint(ctx: any, y: any, x: any, r: any, color: any) {\n  ctx.beginPath();\n  ctx.arc(x, y, r, 0, 2 * Math.PI);\n  ctx.fillStyle = color;\n  ctx.fill();\n}\n\n/**\n * Draws a line on a canvas, i.e. a joint\n */\nexport function drawSegment([ay, ax]: any, [by, bx]: any, color: any, scale: any, ctx: any) {\n  ctx.beginPath();\n  ctx.moveTo(ax * scale, ay * scale);\n  ctx.lineTo(bx * scale, by * scale);\n  ctx.lineWidth = lineWidth;\n  ctx.strokeStyle = color;\n  ctx.stroke();\n}\n\n/**\n * Draws a pose skeleton by looking up all adjacent keypoints/joints\n */\nexport function drawSkeleton(keypoints: any, minConfidence: any, ctx: any, scale = 1) {\n  const adjacentKeyPoints =\n      posenet.getAdjacentKeyPoints(keypoints, minConfidence);\n\n  adjacentKeyPoints.forEach((keypoints) => {\n    drawSegment(\n        toTuple(keypoints[0].position), toTuple(keypoints[1].position), color,\n        scale, ctx);\n  });\n}\n\n/**\n * Draw pose keypoints onto a canvas\n */\nexport function drawKeypoints(keypoints: any, minConfidence: any, ctx: any, scale = 1) {\n  for (let i = 0; i < keypoints.length; i++) {\n    const keypoint = keypoints[i];\n\n    if (keypoint.score < minConfidence) {\n      continue;\n    }\n\n    const {y, x} = keypoint.position;\n    drawPoint(ctx, y * scale, x * scale, 3, color);\n  }\n}","import React, { useRef } from 'react';\nimport Webcam from \"react-webcam\";\n\nimport * as tf from '@tensorflow/tfjs';\nimport * as posenet from '@tensorflow-models/posenet';\n\nimport { drawKeypoints, drawSkeleton} from './utils';\n\nfunction PosenetCam(props: any) {\n    tf.getBackend();\n    const webcamRef = useRef<any>(null);\n    const canvasRef = useRef(null);\n\n    const runPosenet = async () => {\n        const net = await posenet.load({\n            architecture: 'MobileNetV1',\n            outputStride: 16,\n            inputResolution: { width: 267, height: 150 },\n            multiplier: 0.75\n        });\n\n        setInterval(() => {\n            detect(net);\n        }, 100);\n    }\n\n    const detect = async (net: any) => {\n        if (typeof webcamRef.current !== \"undefined\" && webcamRef.current !== null && webcamRef.current.video.readyState === 4) {\n            const video = webcamRef.current.video;\n            const videoWidth = webcamRef.current.video.videoWidth;\n            const videoHeight = webcamRef.current.video.videoHeight;\n\n            webcamRef.current.video.width = videoWidth;\n            webcamRef.current.video.height = videoHeight;\n\n            const pose = await net.estimateSinglePose(video);\n            drawCanvas(pose, video, videoWidth, videoHeight, canvasRef);\n        }\n    }\n\n    const drawCanvas = (pose: any, video: any, videoWidth: any, videoHeight: any, canvas: any) => {\n        const ctx = canvas.current.getContext(\"2d\");\n        canvas.current.width = videoWidth;\n        canvas.current.height = videoHeight;\n\n        if (pose.score > 0) {\n            const keypoints = pose.keypoints;\n            props.mapJoints(keypoints);\n        }\n\n        drawKeypoints(pose['keypoints'], 0.5, ctx);\n        drawSkeleton(pose['keypoints'], 0.5, ctx);\n    }\n\n    runPosenet();\n\n    return (\n        <div className='-scale-x-100'>\n            <Webcam\n                ref={webcamRef} \n                className='absolute mx-auto left-1/2 right-1/2 w-[267px] h-[150px] -translate-x-[133px]'\n                width={267}\n                height={150}/>\n            <canvas\n                ref={canvasRef}\n                className='absolute mx-auto left-1/2 right-1/2 w-[267px] h-[150px] -translate-x-[133px]'/>\n        </div>\n    );\n}\n\nexport default PosenetCam;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { Canvas } from '@react-three/fiber';\n\nimport logo from './logo.png';\nimport { Model } from './Ybot';\nimport PosenetCam from './PosenetCam';\n\nlet kp: any;\nconst mapJoints = (keypoints: any) => {\n  kp = keypoints;\n};\nconst getJoints = () => {\n  return kp;\n};\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\ndocument.body.classList.add('bg-slate-800', 'flex', 'flex-col', 'min-h-screen', 'justify-center', '-translate-y-[100px]');\n\nroot.render(\n  <React.StrictMode>\n    <header className='text-center'>\n      <img src={logo} className='h-16 mx-auto' alt='logo' />\n      <div className='text-center antialiased text-white w-90 m-4'>\n        <p>Demo for mapping 3D avatars to webcam poses</p>\n        <p>2022 // <a href='https://github.com/play012' className='text-pink-500'>Stefan Friesen</a></p>\n      </div>\n    </header>\n\n    <div className='w-[267px] mx-auto m-4 -scale-x-100'>\n      <Canvas>\n        <pointLight position={[10, 10, 10]} />\n        <Model getJoints={getJoints}/>\n      </Canvas>\n    </div>\n    <PosenetCam mapJoints={mapJoints}/>\n    \n  </React.StrictMode>\n);"],"sourceRoot":""}